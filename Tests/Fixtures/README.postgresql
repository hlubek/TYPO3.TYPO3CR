== PostgreSQL Testing ==

To activate postgresql testing postgresql needs to be installed and running and
the option for local logins without password (via unix socket) needs to be on
(or you will have to type a lot of passwords when running the scripts).

The php.ini needs to be set to:

pgsql.allow_persistent = Off

because persistent connections don't work well with the fast creation from
templates and dropping of databases for every single test, neither of those will
work if the database has any active users

Testing uses the databases:

typo3v5testbase
typo3v5testpostgresql*

and the user
typo3v5testing with password typo3v5testingpass

Make sure those are not used for anything in your installation as the scripts
will drop those databases and user without asking first if they exist

Then you need to go to the Packages/TYPO3CR/Tests/Fixtures directory and run

./setuppostgresql.sh

From now on when you run the tests the postgresql version will no longer be
skipped (If on your system the PostgreSQL client is not called psql you can
change the PSQL variable in the scripts).
To disable postgresql testing (as it is very time consuming) again run

./disablepostgresql.sh

== Cleanup ==

If you didn't disable persistent connections or some of the test databases are
not removed for other reasons you can run

./pgcleanup.sh

to delete all the typo3v5testpostgresql* databases

== Dump ==

To see the current contents of the typo3v5testbase database run

./pgdump.sh


